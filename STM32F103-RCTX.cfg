# SPDX-License-Identifier: GPL-2.0-or-later

# Configuration for STM32F103RÐ¡TX microcontroller
# Using ST-LINK debugger

source [find interface/stlink.cfg]
transport select hla_swd

# Set working area in main SRAM (48KB)
set WORKAREASIZE 0xC000
source [find target/stm32f1x.cfg]

$_TARGETNAME configure -event reset-init {
    adapter speed 4000
}

# Configure memory
$_TARGETNAME configure -work-area-phys 0x20000000 -work-area-size $WORKAREASIZE

# Reset configuration
reset_config srst_nogate